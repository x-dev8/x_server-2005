/********************************************************************
    Filename:    MeRTLibs.h
    MaintenanceMan Mail: debugcommand@hotmail.com
*********************************************************************/

#ifndef __UTILITY_RTLIBS_H__
#define __UTILITY_RTLIBS_H__

#ifdef _WIN32 // window
#ifndef _WIN32_WINNT
#define _WIN32_WINNT 0x0501
#define WIN32_LEAN_AND_MEAN		// Exclude rarely-used stuff from Windows headers
#endif
#include <windows.h>
#include <process.h>
#pragma warning( push, 0 )
#pragma warning( disable : 4201 )
#include <Mmsystem.h>
#pragma warning( pop )
#include <winbase.h>

#include <stdlib.h>

#include <dbghelp.h>
#include <wtypes.h>

#else // linux
#include <sys/mman.h>
#endif // linux

// C Header Files
#include <signal.h>
#include <assert.h>
#include <tchar.h>
#include <stdio.h>
#include <direct.h>
#include <time.h>
#include <stdarg.h>
#include <math.h>
#include <shlwapi.h>
#include <io.h>
#include <errno.h>
#include <conio.h>
#include <memory.h>
#include <malloc.h>
#include <fcntl.h>

// C++ Stream stuff
#include <fstream>
#include <iostream>
#include <iomanip>
#include <sstream>
#include <cstdlib>
#include <utility>
#include <ctime>

// STL containers
#include <vector>
#include <map>
#include <hash_map>
#include <hash_set>
#include <string>
#include <set>
#include <list>
#include <deque>
#include <stack>
#include <queue>
#include <algorithm>

using namespace std;

// 基本类型
typedef __int64 int64;
typedef long    int32;
typedef short   int16;
typedef char    int8;

typedef unsigned __int64 uint64;
typedef unsigned long    uint32;
typedef unsigned short   uint16;
typedef unsigned char    uint8;

typedef int32 GameObjectId;
#define InvalidGameObjectId -1

// inline function
inline DWORD HQ_TimeGetTime() { return timeGetTime(); }

#define _SET_FLAG( a, b ) ( a |= b )
#define _HAS_FLAG( a, b ) ( ( a & b ) == b )
#define _CLS_FLAG( a, b ) ( a &= (~b) )

#define GetIniInt( dst, name, def ) \
    dst = GetPrivateProfileIntA( szDef, name, def, szConfigFile );\
    _snprintf( szBuffer, sizeof( szBuffer ) - 1, "%d", dst );\
    WritePrivateProfileStringA( szDef, name, szBuffer, szConfigFile)
#define GetIniStr( dst, name, def, len ) \
    GetPrivateProfileStringA( szDef, name, def, dst, len, szConfigFile );\
    WritePrivateProfileStringA( szDef, name, dst, szConfigFile)

#define SetIniInt( dst, name) \
    _snprintf( szBuffer, sizeof(szBuffer)-1, "%d", dst );\
    WritePrivateProfileStringA( szDef, name, szBuffer, szConfigFile)
#define SetIniStr( dst, name) \
    WritePrivateProfileStringA( szDef, name, dst, szConfigFile)

//////////////////////////////////////////////////////////////////////////
// disable warning 

// Turn off warnings generated by long std templates
// This warns about truncation to 255 characters in debug/browse info
#pragma warning (disable : 4786)

// disable: "conversion from 'double' to 'float', possible loss of data
#pragma warning (disable : 4244)

// disable: "truncation from 'double' to 'float'
#pragma warning (disable : 4305)

// unreferenced formal parameter
#pragma warning (disable : 4100)

// disable: "<type> needs to have dll-interface to be used by clients'
// Happens on STL member variables which are not public therefore is ok
#pragma warning (disable : 4251)

// conversion from 'size_t' to 'int', possible loss of data
#pragma warning (disable : 4267)

// conversion from '__w64 int' to 'unsigned long', possible loss of data
#pragma warning (disable : 4244)

// disable: "non dll-interface class used as base for dll-interface class"
#pragma warning (disable : 4275)

// disable: '<' : signed/unsigned mismatch
#pragma warning (disable : 4018)

// disable: 'std::hash_map<_Kty,_Ty>' was declared deprecated
#pragma warning (disable : 4996)

// disable: 'BOOL' : forcing value to bool 'true' or 'false'
#pragma warning (disable : 4800)

// disable: conditional expression is constant
#pragma warning (disable : 4127)

#endif // __UTILITY_RTLIBS_H__
