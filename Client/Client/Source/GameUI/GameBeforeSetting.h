/********************************************************************
	Created by UIEditor.exe
	FileName: E:\3Guo_Client_04.22\Data\Ui\GameBeforeSetting.h
*********************************************************************/
#pragma once
#include "MeUi/MeUi.h"
#include "Ui/UIBase.h"
#include "SystemSetting.h"

#ifndef ID_FRAME_GameBeforeSetting
#define ID_FRAME_GameBeforeSetting		"ID_FRAME_GameBeforeSetting"
#endif  ID_FRAME_GameBeforeSetting
#ifndef ID_BUTTON_Default
#define ID_BUTTON_Default		"ID_BUTTON_Default"
#endif  ID_BUTTON_Default
#ifndef ID_BUTTON_SetHigh
#define ID_BUTTON_SetHigh		"ID_BUTTON_SetHigh"
#endif  ID_BUTTON_SetHigh
#ifndef ID_BUTTON_SetMiddle
#define ID_BUTTON_SetMiddle		"ID_BUTTON_SetMiddle"
#endif  ID_BUTTON_SetMiddle
#ifndef ID_BUTTON_SetLow
#define ID_BUTTON_SetLow		"ID_BUTTON_SetLow"
#endif  ID_BUTTON_SetLow
#ifndef ID_CHECKBOX_Window
#define ID_CHECKBOX_Window		"ID_CHECKBOX_Window"
#endif  ID_CHECKBOX_Window
#ifndef ID_BUTTON_Custom
#define ID_BUTTON_Custom		"ID_BUTTON_Custom"
#endif  ID_BUTTON_Custom
#ifndef ID_LIST_23209
#define ID_LIST_23209		"ID_LIST_23209"
#endif  ID_LIST_23209
#ifndef ID_SCROLLBAREX_SoundEffect
#define ID_SCROLLBAREX_SoundEffect		"ID_SCROLLBAREX_SoundEffect"
#endif  ID_SCROLLBAREX_SoundEffect
#ifndef ID_BUTTON_OK
#define ID_BUTTON_OK		"ID_BUTTON_OK"
#endif  ID_BUTTON_OK
#ifndef ID_BUTTON_Cancel
#define ID_BUTTON_Cancel		"ID_BUTTON_Cancel"
#endif  ID_BUTTON_Cancel
#ifndef ID_SCROLLBAREX_Music
#define ID_SCROLLBAREX_Music		"ID_SCROLLBAREX_Music"
#endif  ID_SCROLLBAREX_Music
#ifndef ID_SCROLLBAREX_GuangJiao
#define ID_SCROLLBAREX_GuangJiao		"ID_SCROLLBAREX_GuangJiao"
#endif  ID_SCROLLBAREX_GuangJiao
#ifndef ID_SCROLLBAREX_JingTou
#define ID_SCROLLBAREX_JingTou		"ID_SCROLLBAREX_JingTou"
#endif  ID_SCROLLBAREX_JingTou
#ifndef ID_CHECKBOX_FullScreen
#define ID_CHECKBOX_FullScreen		"ID_CHECKBOX_FullScreen"
#endif  ID_CHECKBOX_FullScreen
#ifndef ID_CHECKBOX_NoMusic
#define ID_CHECKBOX_NoMusic		"ID_CHECKBOX_NoMusic"
#endif  ID_CHECKBOX_NoMusic
#ifndef ID_CHECKBOX_NoSoundEffect
#define ID_CHECKBOX_NoSoundEffect		"ID_CHECKBOX_NoSoundEffect"
#endif  ID_CHECKBOX_NoSoundEffect
#ifndef ID_TEXT_Mode
#define ID_TEXT_Mode		"ID_TEXT_Mode"
#endif  ID_TEXT_Mode
#ifndef ID_SCROLLBAREX_TongPing
#define ID_SCROLLBAREX_TongPing		"ID_SCROLLBAREX_TongPing"
#endif  ID_SCROLLBAREX_TongPing
#ifndef ID_CHECKBOX_CAMERA_SHAKE
#define ID_CHECKBOX_CAMERA_SHAKE		"ID_CHECKBOX_CAMERA_SHAKE"
#endif  ID_CHECKBOX_CAMERA_SHAKE
#ifndef ID_COMBOBOX_MS
#define ID_COMBOBOX_MS		"ID_COMBOBOX_MS"
#endif  ID_COMBOBOX_MS

//游戏中 自定义选项中的可用控件。
#ifndef ID_CHECKBOX_LightLow
#define ID_CHECKBOX_LightLow		"ID_CHECKBOX_LightLow"
#endif  ID_CHECKBOX_LightLow
#ifndef ID_CHECKBOX_LightHigh
#define ID_CHECKBOX_LightHigh		"ID_CHECKBOX_LightHigh"
#endif  ID_CHECKBOX_LightHigh
#ifndef ID_CHECKBOX_GrassLow
#define ID_CHECKBOX_GrassLow		"ID_CHECKBOX_GrassLow"
#endif  ID_CHECKBOX_GrassLow
#ifndef ID_CHECKBOX_GrassHigh
#define ID_CHECKBOX_GrassHigh		"ID_CHECKBOX_GrassHigh"
#endif  ID_CHECKBOX_GrassHigh
#ifndef ID_CHECKBOX_GroundLow
#define ID_CHECKBOX_GroundLow		"ID_CHECKBOX_GroundLow"
#endif  ID_CHECKBOX_GroundLow
#ifndef ID_CHECKBOX_GroundHigh
#define ID_CHECKBOX_GroundHigh		"ID_CHECKBOX_GroundHigh"
#endif  ID_CHECKBOX_GroundHigh
#ifndef ID_CHECKBOX_HdrOff
#define ID_CHECKBOX_HdrOff		"ID_CHECKBOX_HdrOff"
#endif  ID_CHECKBOX_HdrOff
#ifndef ID_CHECKBOX_HdrOn
#define ID_CHECKBOX_HdrOn		"ID_CHECKBOX_HdrOn"
#endif  ID_CHECKBOX_HdrOn
#ifndef ID_CHECKBOX_TextureLow
#define ID_CHECKBOX_TextureLow		"ID_CHECKBOX_TextureLow"
#endif  ID_CHECKBOX_TextureLow
#ifndef ID_CHECKBOX_TextureHigh
#define ID_CHECKBOX_TextureHigh		"ID_CHECKBOX_TextureHigh"
#endif  ID_CHECKBOX_TextureHigh
#ifndef ID_CHECKBOX_TerrainAOTUOff
#define ID_CHECKBOX_TerrainAOTUOff		"ID_CHECKBOX_TerrainAOTUOff"
#endif  ID_CHECKBOX_TerrainAOTUOff
#ifndef ID_CHECKBOX_TerrainAOTUOn
#define ID_CHECKBOX_TerrainAOTUOn		"ID_CHECKBOX_TerrainAOTUOn"
#endif  ID_CHECKBOX_TerrainAOTUOn
#ifndef ID_CHECKBOX_ActionLow
#define ID_CHECKBOX_ActionLow		"ID_CHECKBOX_ActionLow"
#endif  ID_CHECKBOX_ActionLow
#ifndef ID_CHECKBOX_ActionHigh
#define ID_CHECKBOX_ActionHigh		"ID_CHECKBOX_ActionHigh"
#endif  ID_CHECKBOX_ActionHigh
#ifndef ID_CHECKBOX_EffectLow
#define ID_CHECKBOX_EffectLow		"ID_CHECKBOX_EffectLow"
#endif  ID_CHECKBOX_EffectLow
#ifndef ID_CHECKBOX_EffecMiddle
#define ID_CHECKBOX_EffecMiddle		"ID_CHECKBOX_EffecMiddle"
#endif  ID_CHECKBOX_EffecMiddle
#ifndef ID_CHECKBOX_EffectHigh
#define ID_CHECKBOX_EffectHigh		"ID_CHECKBOX_EffectHigh"
#endif  ID_CHECKBOX_EffectHigh
#ifndef ID_CHECKBOX_ShadowLow
#define ID_CHECKBOX_ShadowLow		"ID_CHECKBOX_ShadowLow"
#endif  ID_CHECKBOX_ShadowLow
#ifndef ID_CHECKBOX_ShadowMiddle
#define ID_CHECKBOX_ShadowMiddle		"ID_CHECKBOX_ShadowMiddle"
#endif  ID_CHECKBOX_ShadowMiddle
#ifndef ID_CHECKBOX_ShadowHigh
#define ID_CHECKBOX_ShadowHigh		"ID_CHECKBOX_ShadowHigh"
#endif  ID_CHECKBOX_ShadowHigh

class CUI_ID_FRAME_GameBeforeSetting : public CUIBase
{
	enum eQuility
	{
		eQuility_High, //高品质
		eQuility_Middle, //中品质
		eQuility_Low,    //低品质
		eQuility_Custom  //自定义
	};

	// Member
public:	
	 CUI_ID_FRAME_GameBeforeSetting();
	 ControlFrame*	m_pID_FRAME_GameBeforeSetting;
	 ControlButton*	m_pID_BUTTON_Default;
	 ControlButton*	m_pID_BUTTON_SetHigh;
	 ControlButton*	m_pID_BUTTON_SetMiddle;
	 ControlButton*	m_pID_BUTTON_SetLow;
	 ControlCheckBox*	m_pID_CHECKBOX_Window;
	 ControlButton*	m_pID_BUTTON_Custom;
	 ControlList*	m_pID_LIST_23209;
	 ControlScrollBarEx*	m_pID_SCROLLBAREX_SoundEffect;
	 ControlButton*	m_pID_BUTTON_OK;
	 ControlButton*	m_pID_BUTTON_Cancel;
	 ControlScrollBarEx*	m_pID_SCROLLBAREX_Music;
	 ControlScrollBarEx*	m_pID_SCROLLBAREX_GuangJiao;
	 ControlScrollBarEx*	m_pID_SCROLLBAREX_JingTou;
	 ControlCheckBox*	m_pID_CHECKBOX_FullScreen;
	 ControlCheckBox*	m_pID_CHECKBOX_NoMusic;
	 ControlCheckBox*	m_pID_CHECKBOX_NoSoundEffect;
	 ControlText*	m_pID_TEXT_Mode;
	 ControlScrollBarEx*	m_pID_SCROLLBAREX_TongPing;
	 ControlCheckBox*	m_pID_CHECKBOX_CAMERA_SHAKE;
	 ControlComboBox*	m_pID_COMBOBOX_MS;


	 ControlCheckBox*	m_pID_CHECKBOX_LightLow;
	 ControlCheckBox*	m_pID_CHECKBOX_LightHigh;
	 ControlCheckBox*	m_pID_CHECKBOX_GrassLow;
	 ControlCheckBox*	m_pID_CHECKBOX_GrassHigh;
	 ControlCheckBox*	m_pID_CHECKBOX_GroundLow;
	 ControlCheckBox*	m_pID_CHECKBOX_GroundHigh;
	 ControlCheckBox*	m_pID_CHECKBOX_HdrOff;
	 ControlCheckBox*	m_pID_CHECKBOX_HdrOn;
	 ControlCheckBox*	m_pID_CHECKBOX_TextureLow;
	 ControlCheckBox*	m_pID_CHECKBOX_TextureHigh;
	 ControlCheckBox*	m_pID_CHECKBOX_TerrainAOTUOff;
	 ControlCheckBox*	m_pID_CHECKBOX_TerrainAOTUOn;
	 ControlCheckBox*	m_pID_CHECKBOX_ActionLow;
	 ControlCheckBox*	m_pID_CHECKBOX_ActionHigh;
	 ControlCheckBox*	m_pID_CHECKBOX_EffectLow;
	 ControlCheckBox*	m_pID_CHECKBOX_EffecMiddle;
	 ControlCheckBox*	m_pID_CHECKBOX_EffectHigh;
	 ControlCheckBox*	m_pID_CHECKBOX_ShadowLow;
	 ControlCheckBox*	m_pID_CHECKBOX_ShadowMiddle;
	 ControlCheckBox*	m_pID_CHECKBOX_ShadowHigh;


	// Frame
	bool OnFrameRun();
	bool OnFrameRender();
	bool ID_BUTTON_DefaultOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_SetHighOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_SetMiddleOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_SetLowOnButtonClick( ControlObject* pSender );
	void ID_CHECKBOX_WindowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	bool ID_BUTTON_CustomOnButtonClick( ControlObject* pSender );
	void ID_LIST_23209OnListSelectChange( ControlObject* pSender, ControlList::S_List* pItem );
	void ID_SCROLLBAREX_SoundEffectOnScrollBarExUpdatePos( ControlObject* pSender, int n );
	bool ID_BUTTON_OKOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_CancelOnButtonClick( ControlObject* pSender );
	void ID_SCROLLBAREX_MusicOnScrollBarExUpdatePos( ControlObject* pSender, int n );
	void ID_SCROLLBAREX_GuangJiaoOnScrollBarExUpdatePos( ControlObject* pSender, int n );
	void ID_SCROLLBAREX_JingTouOnScrollBarExUpdatePos( ControlObject* pSender, int n );
	void ID_CHECKBOX_FullScreenOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_NoMusicOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_NoSoundEffectOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_SCROLLBAREX_TongPingOnScrollBarExUpdatePos( ControlObject* pSender, int n );
	void ID_CHECKBOX_CAMERA_SHAKEOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_COMBOBOX_MSOnComboBoxChange( ControlObject* pSender, const char* szData );


	void ID_CHECKBOX_LightLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_LightHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_GrassLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_GrassHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_GroundLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_GroundHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_HdrOffOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_HdrOnOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TextureLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TextureHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TerrainAOTUOffOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TerrainAOTUOnOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_ActionLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_ActionHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_EffectLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_EffecMiddleOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_EffectHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_ShadowLowOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_ShadowMiddleOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_ShadowHighOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );



	bool _LoadUI();				// 载入UI
	bool DoControlConnect();	// 关连控件
	bool _UnLoadUI();			// 卸载UI
	bool _IsVisable();			// 是否可见
	void SetVisable( const bool bVisable );			// 设置是否可视


	bool LoadGameSetting();
	bool SaveGameSetting(); 

	void Refresh(bool bResolution = true);	

	bool SetLevel(SystemSetting::eSystemSettingCategory _Type, unsigned int uiValue);
private:
	//void ID_LIST_SELECTOnListDBClick( ControlObject* pSender, ControlList::S_List* pItem );
	
	unsigned int m_Settings[SystemSetting::eSSC_TOTAL];
	unsigned int m_LastSettings[SystemSetting::eSSC_TOTAL];

	void AddResolutionString( const char* pszReslution );
	void LoadQuilityConfig(eQuility eValue);
	void GetItemTextByMSAALevel(int msaaLevel, char *szItemText);
	
};
extern CUI_ID_FRAME_GameBeforeSetting s_CUI_ID_FRAME_GameBeforeSetting;
