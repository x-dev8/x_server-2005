/********************************************************************
	Created by UIEditor.exe
	FileName: C:\Documents and Settings\mingyuan.zhang\桌面\新建文件夹 (7)\Team.h
*********************************************************************/
#pragma once
#include "MeUi/MeUi.h"

#include "Player.h"

#ifndef ID_FRAME_Team
#define ID_FRAME_Team		"ID_FRAME_Team"
#endif  ID_FRAME_Team
#ifndef ID_CHECKBOX_AcceptApply
#define ID_CHECKBOX_AcceptApply		"ID_CHECKBOX_AcceptApply"
#endif  ID_CHECKBOX_AcceptApply
#ifndef ID_PICTURE_BG
#define ID_PICTURE_BG		"ID_PICTURE_BG"
#endif  ID_PICTURE_BG
#ifndef ID_CHECKBOX_Team
#define ID_CHECKBOX_Team		"ID_CHECKBOX_Team"
#endif  ID_CHECKBOX_Team
#ifndef ID_CHECKBOX_TeamApply
#define ID_CHECKBOX_TeamApply		"ID_CHECKBOX_TeamApply"
#endif  ID_CHECKBOX_TeamApply
#ifndef ID_CHECKBOX_TeamNear
#define ID_CHECKBOX_TeamNear		"ID_CHECKBOX_TeamNear"
#endif  ID_CHECKBOX_TeamNear
#ifndef ID_PICTURE_Player1
#define ID_PICTURE_Player1		"ID_PICTURE_Player1"
#endif  ID_PICTURE_Player1
#ifndef ID_PICTURE_Player2
#define ID_PICTURE_Player2		"ID_PICTURE_Player2"
#endif  ID_PICTURE_Player2
#ifndef ID_PICTURE_Player3
#define ID_PICTURE_Player3		"ID_PICTURE_Player3"
#endif  ID_PICTURE_Player3
#ifndef ID_PICTURE_Player4
#define ID_PICTURE_Player4		"ID_PICTURE_Player4"
#endif  ID_PICTURE_Player4
#ifndef ID_PICTURE_Player5
#define ID_PICTURE_Player5		"ID_PICTURE_Player5"
#endif  ID_PICTURE_Player5
#ifndef ID_PICTURE_Player6
#define ID_PICTURE_Player6		"ID_PICTURE_Player6"
#endif  ID_PICTURE_Player6
#ifndef ID_TEXT_PlayerName2
#define ID_TEXT_PlayerName2		"ID_TEXT_PlayerName2"
#endif  ID_TEXT_PlayerName2
#ifndef ID_TEXT_PlayerName3
#define ID_TEXT_PlayerName3		"ID_TEXT_PlayerName3"
#endif  ID_TEXT_PlayerName3
#ifndef ID_TEXT_PlayerName4
#define ID_TEXT_PlayerName4		"ID_TEXT_PlayerName4"
#endif  ID_TEXT_PlayerName4
#ifndef ID_TEXT_PlayerName5
#define ID_TEXT_PlayerName5		"ID_TEXT_PlayerName5"
#endif  ID_TEXT_PlayerName5
#ifndef ID_TEXT_PlayerName6
#define ID_TEXT_PlayerName6		"ID_TEXT_PlayerName6"
#endif  ID_TEXT_PlayerName6
#ifndef ID_TEXT_PlayerName1
#define ID_TEXT_PlayerName1		"ID_TEXT_PlayerName1"
#endif  ID_TEXT_PlayerName1
#ifndef ID_TEXT_PlayerLevel1
#define ID_TEXT_PlayerLevel1		"ID_TEXT_PlayerLevel1"
#endif  ID_TEXT_PlayerLevel1
#ifndef ID_TEXT_PlayerLevel2
#define ID_TEXT_PlayerLevel2		"ID_TEXT_PlayerLevel2"
#endif  ID_TEXT_PlayerLevel2
#ifndef ID_TEXT_PlayerLevel3
#define ID_TEXT_PlayerLevel3		"ID_TEXT_PlayerLevel3"
#endif  ID_TEXT_PlayerLevel3
#ifndef ID_TEXT_PlayerLevel4
#define ID_TEXT_PlayerLevel4		"ID_TEXT_PlayerLevel4"
#endif  ID_TEXT_PlayerLevel4
#ifndef ID_TEXT_PlayerLevel5
#define ID_TEXT_PlayerLevel5		"ID_TEXT_PlayerLevel5"
#endif  ID_TEXT_PlayerLevel5
#ifndef ID_TEXT_PlayerLevel6
#define ID_TEXT_PlayerLevel6		"ID_TEXT_PlayerLevel6"
#endif  ID_TEXT_PlayerLevel6
#ifndef ID_TEXT_PlayerJob1
#define ID_TEXT_PlayerJob1		"ID_TEXT_PlayerJob1"
#endif  ID_TEXT_PlayerJob1
#ifndef ID_TEXT_PlayerJob2
#define ID_TEXT_PlayerJob2		"ID_TEXT_PlayerJob2"
#endif  ID_TEXT_PlayerJob2
#ifndef ID_TEXT_PlayerJob3
#define ID_TEXT_PlayerJob3		"ID_TEXT_PlayerJob3"
#endif  ID_TEXT_PlayerJob3
#ifndef ID_TEXT_PlayerJob4
#define ID_TEXT_PlayerJob4		"ID_TEXT_PlayerJob4"
#endif  ID_TEXT_PlayerJob4
#ifndef ID_TEXT_PlayerJob5
#define ID_TEXT_PlayerJob5		"ID_TEXT_PlayerJob5"
#endif  ID_TEXT_PlayerJob5
#ifndef ID_TEXT_PlayerJob6
#define ID_TEXT_PlayerJob6		"ID_TEXT_PlayerJob6"
#endif  ID_TEXT_PlayerJob6
#ifndef ID_TEXT_PlayerScene1
#define ID_TEXT_PlayerScene1		"ID_TEXT_PlayerScene1"
#endif  ID_TEXT_PlayerScene1
#ifndef ID_TEXT_PlayerScene2
#define ID_TEXT_PlayerScene2		"ID_TEXT_PlayerScene2"
#endif  ID_TEXT_PlayerScene2
#ifndef ID_TEXT_PlayerScene3
#define ID_TEXT_PlayerScene3		"ID_TEXT_PlayerScene3"
#endif  ID_TEXT_PlayerScene3
#ifndef ID_TEXT_PlayerScene4
#define ID_TEXT_PlayerScene4		"ID_TEXT_PlayerScene4"
#endif  ID_TEXT_PlayerScene4
#ifndef ID_TEXT_PlayerScene5
#define ID_TEXT_PlayerScene5		"ID_TEXT_PlayerScene5"
#endif  ID_TEXT_PlayerScene5
#ifndef ID_TEXT_PlayerScene6
#define ID_TEXT_PlayerScene6		"ID_TEXT_PlayerScene6"
#endif  ID_TEXT_PlayerScene6
#ifndef ID_TEXT_Near
#define ID_TEXT_Near		"ID_TEXT_Near"
#endif  ID_TEXT_Near
#ifndef ID_TEXT_Exp
#define ID_TEXT_Exp		"ID_TEXT_Exp"
#endif  ID_TEXT_Exp
#ifndef ID_TEXT_FriendAttribute
#define ID_TEXT_FriendAttribute		"ID_TEXT_FriendAttribute"
#endif  ID_TEXT_FriendAttribute
#ifndef ID_BUTTON_HELP
#define ID_BUTTON_HELP		"ID_BUTTON_HELP"
#endif  ID_BUTTON_HELP
#ifndef ID_BUTTON_CLOSE
#define ID_BUTTON_CLOSE		"ID_BUTTON_CLOSE"
#endif  ID_BUTTON_CLOSE
#ifndef ID_CHECKBOX_Player1
#define ID_CHECKBOX_Player1		"ID_CHECKBOX_Player1"
#endif  ID_CHECKBOX_Player1
#ifndef ID_CHECKBOX_Player2
#define ID_CHECKBOX_Player2		"ID_CHECKBOX_Player2"
#endif  ID_CHECKBOX_Player2
#ifndef ID_CHECKBOX_Player3
#define ID_CHECKBOX_Player3		"ID_CHECKBOX_Player3"
#endif  ID_CHECKBOX_Player3
#ifndef ID_CHECKBOX_Player4
#define ID_CHECKBOX_Player4		"ID_CHECKBOX_Player4"
#endif  ID_CHECKBOX_Player4
#ifndef ID_CHECKBOX_Player5
#define ID_CHECKBOX_Player5		"ID_CHECKBOX_Player5"
#endif  ID_CHECKBOX_Player5
#ifndef ID_CHECKBOX_Player6
#define ID_CHECKBOX_Player6		"ID_CHECKBOX_Player6"
#endif  ID_CHECKBOX_Player6
#ifndef ID_TEXT_AcceptApplyText
#define ID_TEXT_AcceptApplyText		"ID_TEXT_AcceptApplyText"
#endif  ID_TEXT_AcceptApplyText
#ifndef ID_PICTURE_AcceptInviteText
#define ID_PICTURE_AcceptInviteText		"ID_PICTURE_AcceptInviteText"
#endif  ID_PICTURE_AcceptInviteText
#ifndef ID_CHECKBOX_AcceptInvite
#define ID_CHECKBOX_AcceptInvite		"ID_CHECKBOX_AcceptInvite"
#endif  ID_CHECKBOX_AcceptInvite
#ifndef ID_TEXT_Captain
#define ID_TEXT_Captain		"ID_TEXT_Captain"
#endif  ID_TEXT_Captain
#ifndef ID_BUTTON_LeaveTeam
#define ID_BUTTON_LeaveTeam		"ID_BUTTON_LeaveTeam"
#endif  ID_BUTTON_LeaveTeam
#ifndef ID_BUTTON_AddFriend
#define ID_BUTTON_AddFriend		"ID_BUTTON_AddFriend"
#endif  ID_BUTTON_AddFriend
#ifndef ID_BUTTON_DisBand
#define ID_BUTTON_DisBand		"ID_BUTTON_DisBand"
#endif  ID_BUTTON_DisBand
#ifndef ID_BUTTON_Kick
#define ID_BUTTON_Kick		"ID_BUTTON_Kick"
#endif  ID_BUTTON_Kick
#ifndef ID_BUTTON_Promote
#define ID_BUTTON_Promote		"ID_BUTTON_Promote"
#endif  ID_BUTTON_Promote
#ifndef ID_PICTURE_TeamNameText
#define ID_PICTURE_TeamNameText		"ID_PICTURE_TeamNameText"
#endif  ID_PICTURE_TeamNameText
#ifndef ID_PICTURE_ExpModeText
#define ID_PICTURE_ExpModeText		"ID_PICTURE_ExpModeText"
#endif  ID_PICTURE_ExpModeText
#ifndef ID_PICTURE_PickModeText
#define ID_PICTURE_PickModeText		"ID_PICTURE_PickModeText"
#endif  ID_PICTURE_PickModeText
#ifndef ID_BUTTON_Ok
#define ID_BUTTON_Ok		"ID_BUTTON_Ok"
#endif  ID_BUTTON_Ok
#ifndef ID_PICTURE_NotTeam
#define ID_PICTURE_NotTeam		"ID_PICTURE_NotTeam"
#endif  ID_PICTURE_NotTeam
#ifndef ID_COMBOBOX_TeamName
#define ID_COMBOBOX_TeamName		"ID_COMBOBOX_TeamName"
#endif  ID_COMBOBOX_TeamName
#ifndef ID_COMBOBOX_ExpMode
#define ID_COMBOBOX_ExpMode		"ID_COMBOBOX_ExpMode"
#endif  ID_COMBOBOX_ExpMode
#ifndef ID_COMBOBOX_PickMode
#define ID_COMBOBOX_PickMode		"ID_COMBOBOX_PickMode"
#endif  ID_COMBOBOX_PickMode
#ifndef ID_PICTURE_TitleSetUp
#define ID_PICTURE_TitleSetUp		"ID_PICTURE_TitleSetUp"
#endif  ID_PICTURE_TitleSetUp
#ifndef ID_BUTTON_Apply
#define ID_BUTTON_Apply		"ID_BUTTON_Apply"
#endif  ID_BUTTON_Apply
#ifndef ID_BUTTON_Average
#define ID_BUTTON_Average		"ID_BUTTON_Average"
#endif  ID_BUTTON_Average
#ifndef ID_BUTTON_Join
#define ID_BUTTON_Join		"ID_BUTTON_Join"
#endif  ID_BUTTON_Join
#ifndef ID_BUTTON_CreateTeam
#define ID_BUTTON_CreateTeam		"ID_BUTTON_CreateTeam"
#endif  ID_BUTTON_CreateTeam
#ifndef ID_BUTTON_Follow
#define ID_BUTTON_Follow		"ID_BUTTON_Follow"
#endif  ID_BUTTON_Follow
#ifndef ID_BUTTON_Refuse
#define ID_BUTTON_Refuse		"ID_BUTTON_Refuse"
#endif  ID_BUTTON_Refuse
#ifndef ID_PICTURE_TitleNow
#define ID_PICTURE_TitleNow		"ID_PICTURE_TitleNow"
#endif  ID_PICTURE_TitleNow
#ifndef ID_PICTURE_TitleTeamApplication
#define ID_PICTURE_TitleTeamApplication		"ID_PICTURE_TitleTeamApplication"
#endif  ID_PICTURE_TitleTeamApplication
#ifndef ID_COMBOBOX_Distribute
#define ID_COMBOBOX_Distribute		"ID_COMBOBOX_Distribute"
#endif  ID_COMBOBOX_Distribute
#ifndef ID_COMBOBOX_Tone
#define ID_COMBOBOX_Tone		"ID_COMBOBOX_Tone"
#endif  ID_COMBOBOX_Tone
#ifndef ID_TEXT_String0
#define ID_TEXT_String0		"ID_TEXT_String0"
#endif  ID_TEXT_String0
#ifndef ID_TEXT_String1
#define ID_TEXT_String1		"ID_TEXT_String1"
#endif  ID_TEXT_String1
#ifndef ID_LIST_DistributeAccessories
#define ID_LIST_DistributeAccessories		"ID_LIST_DistributeAccessories"
#endif  ID_LIST_DistributeAccessories
#ifndef ID_BUTTON_FollowBreak
#define ID_BUTTON_FollowBreak		"ID_BUTTON_FollowBreak"
#endif  ID_BUTTON_FollowBreak

#ifndef ID_BUTTON_TeamInformation
#define ID_BUTTON_TeamInformation	"ID_BUTTON_TeamInformation"
#endif ID_BUTTON_TeamInformation

#ifndef ID_BUTTON_PageUp
#define ID_BUTTON_PageUp		"ID_BUTTON_PageUp"
#endif  ID_BUTTON_PageUp
#ifndef ID_BUTTON_PageDown
#define ID_BUTTON_PageDown		"ID_BUTTON_PageDown"
#endif  ID_BUTTON_PageDown
#ifndef ID_TEXT_Page
#define ID_TEXT_Page		"ID_TEXT_Page"
#endif  ID_TEXT_Page
#ifndef ID_BUTTON_QKLB
#define ID_BUTTON_QKLB		"ID_BUTTON_QKLB"
#endif  ID_BUTTON_QKLB
#ifndef ID_CHECKBOX_TeamInformation
#define ID_CHECKBOX_TeamInformation		"ID_CHECKBOX_TeamInformation"
#endif  ID_CHECKBOX_TeamInformation
#ifndef ID_CHECKBOX_Apply
#define ID_CHECKBOX_Apply		"ID_CHECKBOX_Apply"
#endif  ID_CHECKBOX_Apply
#ifndef ID_BUTTON_Duorentongqi
#define ID_BUTTON_Duorentongqi		"ID_BUTTON_Duorentongqi"
#endif  ID_BUTTON_Duorentongqi
#ifndef ID_BUTTON_Near
#define ID_BUTTON_Near		"ID_BUTTON_Near"
#endif  ID_BUTTON_Near


#include "UIBase.h"

#define  MAX_TEAMSIZE TeamMaxManipleMember //组队改成5个 统一用TeamMaxManipleMember个

struct TeamRequestInfo
{
	DWORD dwReqID;                        //请求者id
	std::string  szReqName;    //请求者的名字

	uint8 chProfession;                   // 请求者职业
	uint16 stLevel;                       // 等级

	uint8 AssignMode;
	uint8 AssignItemLevel;           // 队伍分配等级
	bool  IsCorps;
	uint8 nSex;
};

enum ViewType
{
	VT_CurrentView,
	VT_CreateView,
	VT_RequestView
};

class CUI_ID_FRAME_Team : public CUIBase
{
	// Member
public:	
	 CUI_ID_FRAME_Team();
	 virtual ~CUI_ID_FRAME_Team();
	 ControlFrame*	m_pID_FRAME_Team;
	 ControlCheckBox*	m_pID_CHECKBOX_AcceptApply;
	 ControlPicture*	m_pID_PICTURE_BG;
	 ControlCheckBox*	m_pID_CHECKBOX_Team;
	 ControlCheckBox*	m_pID_CHECKBOX_TeamApply;
	 ControlCheckBox*	m_pID_CHECKBOX_TeamNear;
	 ControlPicture*	m_pID_PICTURE_Player1;
	 ControlPicture*	m_pID_PICTURE_Player2;
	 ControlPicture*	m_pID_PICTURE_Player3;
	 ControlPicture*	m_pID_PICTURE_Player4;
	 ControlPicture*	m_pID_PICTURE_Player5;
	 ControlPicture*	m_pID_PICTURE_Player6;
	 ControlText*	m_pID_TEXT_PlayerName2;
	 ControlText*	m_pID_TEXT_PlayerName3;
	 ControlText*	m_pID_TEXT_PlayerName4;
	 ControlText*	m_pID_TEXT_PlayerName5;
	 ControlText*	m_pID_TEXT_PlayerName6;
	 ControlText*	m_pID_TEXT_PlayerName1;
	 ControlText*	m_pID_TEXT_PlayerLevel1;
	 ControlText*	m_pID_TEXT_PlayerLevel2;
	 ControlText*	m_pID_TEXT_PlayerLevel3;
	 ControlText*	m_pID_TEXT_PlayerLevel4;
	 ControlText*	m_pID_TEXT_PlayerLevel5;
	 ControlText*	m_pID_TEXT_PlayerLevel6;
	 ControlText*	m_pID_TEXT_PlayerJob1;
	 ControlText*	m_pID_TEXT_PlayerJob2;
	 ControlText*	m_pID_TEXT_PlayerJob3;
	 ControlText*	m_pID_TEXT_PlayerJob4;
	 ControlText*	m_pID_TEXT_PlayerJob5;
	 ControlText*	m_pID_TEXT_PlayerJob6;
	 ControlText*	m_pID_TEXT_PlayerScene1;
	 ControlText*	m_pID_TEXT_PlayerScene2;
	 ControlText*	m_pID_TEXT_PlayerScene3;
	 ControlText*	m_pID_TEXT_PlayerScene4;
	 ControlText*	m_pID_TEXT_PlayerScene5;
	 ControlText*	m_pID_TEXT_PlayerScene6;
	 ControlText*	m_pID_TEXT_Near;
	 ControlText*	m_pID_TEXT_Exp;
	 ControlText*	m_pID_TEXT_FriendAttribute;
	 ControlButton*	m_pID_BUTTON_HELP;
	 ControlButton*	m_pID_BUTTON_CLOSE;
	 ControlCheckBox*	m_pID_CHECKBOX_Player1;
	 ControlCheckBox*	m_pID_CHECKBOX_Player2;
	 ControlCheckBox*	m_pID_CHECKBOX_Player3;
	 ControlCheckBox*	m_pID_CHECKBOX_Player4;
	 ControlCheckBox*	m_pID_CHECKBOX_Player5;
	 ControlCheckBox*	m_pID_CHECKBOX_Player6;
	 ControlText*	m_pID_TEXT_AcceptApplyText;
	 ControlPicture*	m_pID_PICTURE_AcceptInviteText;
	 ControlCheckBox*	m_pID_CHECKBOX_AcceptInvite;
	 ControlText*	m_pID_TEXT_Captain;
	 ControlButton*	m_pID_BUTTON_LeaveTeam;
	 ControlButton*	m_pID_BUTTON_AddFriend;
	 ControlButton*	m_pID_BUTTON_DisBand;
	 ControlButton*	m_pID_BUTTON_Kick;
	 ControlButton*	m_pID_BUTTON_Promote;
	 ControlPicture*	m_pID_PICTURE_TeamNameText;
	 ControlPicture*	m_pID_PICTURE_ExpModeText;
	 ControlPicture*	m_pID_PICTURE_PickModeText;
	 ControlButton*	m_pID_BUTTON_Ok;
	 ControlPicture*	m_pID_PICTURE_NotTeam;
	 ControlComboBox*	m_pID_COMBOBOX_TeamName;
	 ControlComboBox*	m_pID_COMBOBOX_ExpMode;
	 ControlComboBox*	m_pID_COMBOBOX_PickMode;
	 ControlPicture*	m_pID_PICTURE_TitleSetUp;
	 ControlButton*	m_pID_BUTTON_Apply;
	 ControlButton*	m_pID_BUTTON_Average;
	 ControlButton*	m_pID_BUTTON_Join;
	 ControlButton*	m_pID_BUTTON_CreateTeam;
	 ControlButton*	m_pID_BUTTON_Follow;
	 ControlButton*	m_pID_BUTTON_Refuse;
	 ControlPicture*	m_pID_PICTURE_TitleNow;
	 ControlPicture*	m_pID_PICTURE_TitleTeamApplication;
	 ControlComboBox*	m_pID_COMBOBOX_Distribute;
	 ControlComboBox*	m_pID_COMBOBOX_Tone;
	 ControlText*	m_pID_TEXT_String0;
	 ControlText*	m_pID_TEXT_String1;
	 //ControlList*	m_pID_LIST_DistributeAccessories;
	 ControlButton*	m_pID_BUTTON_FollowBreak;
	 ControlButton* m_pID_BUTTON_TeamInformation;

	 ControlButton*	m_pID_BUTTON_PageUp;
	 ControlButton*	m_pID_BUTTON_PageDown;
	 ControlText*	m_pID_TEXT_Page;
	 ControlButton*	m_pID_BUTTON_QKLB;
	 ControlCheckBox*	m_pID_CHECKBOX_TeamInformation;
	 ControlCheckBox*	m_pID_CHECKBOX_Apply;
	 ControlButton*	m_pID_BUTTON_Near;
	// ControlButton*	m_pID_BUTTON_Duorentongqi; //zhuxincong 2012.7.24注释，导致创建队伍当机

public:	
	// Frame
	bool OnFrameRun();
	bool OnFrameRender();
	void ID_CHECKBOX_AcceptApplyOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TeamOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TeamApplyOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_TeamNearOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	bool ID_BUTTON_HELPOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_CLOSEOnButtonClick( ControlObject* pSender );
	void ID_CHECKBOX_Player1OnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_Player2OnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_Player3OnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_Player4OnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_Player5OnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_Player6OnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_AcceptInviteOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	bool ID_BUTTON_LeaveTeamOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_AddFriendOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_DisBandOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_KickOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_PromoteOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_OkOnButtonClick( ControlObject* pSender );
	void ID_COMBOBOX_TeamNameOnComboBoxChange( ControlObject* pSender, const char* szData );
	void ID_COMBOBOX_ExpModeOnComboBoxChange( ControlObject* pSender, const char* szData );
	void ID_COMBOBOX_PickModeOnComboBoxChange( ControlObject* pSender, const char* szData );
	bool ID_BUTTON_ApplyOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_AverageOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_JoinOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_CreateTeamOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_FollowOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_RefuseOnButtonClick( ControlObject* pSender );
	void ID_COMBOBOX_DistributeOnComboBoxChange( ControlObject* pSender, const char* szData );
	void ID_COMBOBOX_ToneOnComboBoxChange( ControlObject* pSender, const char* szData );
	void ID_LIST_DistributeAccessoriesOnListSelectChange( ControlObject* pSender, ControlList::S_List* pItem );
	bool ID_BUTTON_FollowBreakOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_TeamInformationOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_PageUpOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_PageDownOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_QKLBOnButtonClick( ControlObject* pSender );
	void ID_CHECKBOX_TeamInformationOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	void ID_CHECKBOX_ApplyOnCheckBoxCheck( ControlObject* pSender, bool* pbChecked  );
	bool ID_BUTTON_DuorentongqiOnButtonClick( ControlObject* pSender );
	bool ID_BUTTON_NearOnButtonClick( ControlObject* pSender );

	bool _LoadUI();				// 载入UI
	bool DoControlConnect();	// 关连控件
	bool _UnLoadUI();			// 卸载UI
	bool _IsVisable();			// 是否可见
	void _SetVisable( const bool bVisable );			// 设置是否可视

	//游戏逻辑相关操作
public:
	void SetIsTeamLeader( bool bVal ){ m_bIsTeamLead = bVal; }
	bool GetInRequestState(){ return m_bInRequestState; }
	void SetInRequestState( bool bVal ){ m_bInRequestState = bVal; }
	void SetTeamFollowID( int id ){ m_nTeamFollowID = id; }
	int  GetTeamFollowID() { return m_nTeamFollowID; }
	void CheckOnPlayerClick( CPlayer* player );//启动组队鼠标，如果自己有队伍就是邀请组队，否则是申请组队
	void AddRequest( void* pData );

	void RefreshTeamInfo();//更新队长信息
	void RefreshTeamRequestInfo( int startIdx ); //更新请求入队的信息
	void ClearAllTeamInfo();
	bool IsTeamLeader( const char* playerName );
	int	 GetTeamIdx( const char* playerName );
	int GetTeamFollowCount(){ return m_nTeamFollowCount; } //跟随人数
	void CheckChangeFollowState();	//离队前确认状态是否需要取消跟随


public:
	virtual bool IsHoldInMemory() const { return true; }
	virtual void InitializeAtEnterWorld();
	BOOL InitCamera();
	void DestroyAnimCtrl();
	void Reset();

	void UpdateAniCtrl( CPlayer* pMe, const int idx );	//这个是更新能获取到player数据的avatar，
	void UpdateAniCtrlEx( const TeamInfo& teamInfo, const int idx );				//这个是通过teaminfo来更新avatar

//UI视图控制相关
public:
	void RefreshView();
	void SetCurrentView();	//当前队伍模式
	void SetCreateView();	//创建队伍模式
	void SetRequestView();		//申请入队模式
	bool IsCurrentView();
	bool IsCreateView();
	bool IsRequestView();
	bool IsPlayerSelected(); //是否有申请者被选中。申请组队界面。
	void UncheckedAll();
	void SetTeamLeaderFlag( int i );	//设置队长标记的旗子

	void SetDistributeModeVisible( bool bVal );
	void SetDistributeModeEnable( bool bVal );
	void SetPageButtonsVisible( bool bVal );
	void RefreshAssignMode();
	void RefreshRollMode();

	void RefreshFollowButtons();
	void RefreshPageInfo();

	std::vector<TeamRequestInfo>&	GetRequestList(){ return m_vecRequesterSet; }

protected:
	void SetAllButtonsVisible( bool bVal );
	void SetAllButtonsEnable( bool bVal );

	void RenderPlayers( ControlPicture* checkBox, const int idx );	//渲染队友avatar，如果信息不全只显示部分

//网络消息
public:
		void OnMsgAskTeamFollow( Msg* msg );
		void OnMsgTeamFollowTo( Msg* msg );
		void OnMsgHeaderCancelTeamFollow( Msg* msg );	//队长取消跟随，队长发送和服务器广播都是用这条消息
		void OnMsgMemberCountInTeamFollow( Msg* msg );

		void ClearAllTeamMutiMap();

		unsigned long Clear_Time; //重置副本CD时间
private:	
	MeCamera			m_Camera;
	D3DVIEWPORT9		m_ViewPort;

	CPlayerAnim*		m_PlayerAnim;
	CPlayer*			m_pPlayer;

	CPlayerAnim*		m_PlayerAnims[MAX_TEAMSIZE];
	CPlayer*			m_pPlayers[MAX_TEAMSIZE];

	std::vector<TeamRequestInfo>	m_vecRequesterSet;		//申请消息列表

	float m_fRotateZ;
	bool m_bRotate;
	float m_fLightTry1;
	float m_fLightTry2;
	float m_fLightTry3;


	//组队逻辑相关数据成员
	bool  m_bIsTeamLead;
	bool  m_bInRequestState;

	int	  m_nCurTeamCount;	//当前队员个数，包括自己

	std::string m_CurSelectedName;
	int  m_nSelectedIdx;
	int	 m_nRequestStartIdx; //当前请求玩家开始显示的索引值
	int  m_nRequestPageIdx;		//当前页面索引

	int m_nTeamFollowID;	//组队跟随的跟随对象id，这个id是服务器id
	int m_nTeamFollowCount;	//队友跟随人数	

	ViewType m_eViewType;
};
extern CUI_ID_FRAME_Team s_CUI_ID_FRAME_Team;
